{% if context %}

        <h3>Select targets for each sensor</h3>

        {% for sensor, type in context.sensors.items %}

            <div>
                <label for="{{sensor}}-targets"><b>{{ sensor }} ({{ type }}) targets:</b></label>
                <div class="form-check">

                    {% for device, dtype in context.devices.items %}

                        <input type="checkbox" class="form-check-input" id="target-{{sensor}}-{{device}}" name="target-{{sensor}}-{{device}}" value="target-{{sensor}}-{{device}}">
                        <label for="target-{{sensor}}-{{device}}" class="form-check-label">{{ device }} ({{ dtype }})</label><br>

                    {% endfor %}
                    </select>
                </div>
            </div></br>


        {% endfor %}

        <button id="page2-button" type="button" class="btn btn-primary mb-3">Next</button>

    <script>

        document.getElementById('page2-button').addEventListener("click", async function(e) {
            e.preventDefault();

            var next_page = await readForm("configure_page3");

            $('#page3').html(next_page);
            $('#page2').hide();
        });

    </script>

{% else %}

{% endif %}
