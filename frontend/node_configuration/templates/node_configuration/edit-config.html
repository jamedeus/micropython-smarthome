{% load static %}
{% load pwa %}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ TITLE }}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% progressive_web_app_meta %}
    <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'bootstrap-icons.css' %}">
    <script src="{% static 'bootstrap.min.js' %}"></script>
    <script src="{% static 'smoothscroll.min.js' %}"></script>
    <script src="{% static 'react.development.js' %}"></script>
    <script src="{% static 'react-dom.development.js' %}"></script>
    <script src="{% static 'react-transition-group.min.js' %}"></script>
    <script src="{% static 'react-bootstrap.min.js' %}"></script>
    <style>
        /* Force equal width for schedule rule fields */
        td {
            width: 50%;
        }

        /* Delete card animation */
        :root {
            --animation-height: 25rem;
        }

        @keyframes slide-up {
            0% {
                bottom: 0rem;
            }
            100% {
                bottom: var(--animation-height);
            }
        }

        .slide-up {
            animation-name: slide-up;
            animation-duration: 0.8s;
            animation-timing-function: ease;
            animation-fill-mode: forwards;
        }

        @keyframes fade-out {
            0% {
                opacity: 100%;
            }
            100% {
                opacity: 0%;
            }
        }

        .fade-out {
            animation-name: fade-out;
            animation-duration: 0.4s;
            animation-timing-function: ease;
            animation-fill-mode: forwards;
        }

        /* Popup div for setting timestamp and rule on page 3 */
        .schedule-rule-param-popup {
            position: absolute;
            border: 3px solid #1B1E1F;
            border-radius: 8px;
            padding: 20px;
            background-color: #212529;
            z-index: 99;
            margin-left: 20px;
            margin-right: 20px;
            min-width: fit-content;
        }

        /* Mobile: Full width instead of aligning to parent element */
        @media screen and (max-width: 768px) {
            .schedule-rule-param-popup {
                min-width: calc(100% - 40px);
                margin-left: 20px;
                left: 0;
            }
        }
    </style>
</head>

<body>
    <div id="root" class="container"></div>
    {{ metadata|json_script:"instance_metadata" }}
    {{ edit_existing|json_script:"edit_existing" }}
    {{ schedule_keywords|json_script:"schedule_keywords" }}
    {{ api_target_options|json_script:"api_target_options" }}
    {{ config|json_script:"config" }}
    {{ IP|json_script:"target_node_ip" }}
    <script src="{% static 'node_configuration/edit_config.js' %}"></script>
</body>
</html>
